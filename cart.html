<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mojito.com</title>
    <link rel="stylesheet" href="styles.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
  
<body class="cart-page">
    <!-- Navigation -->
    <div class="container">
        <nav class="navbar">
            <div class="logo">
                <h1>Mojito </h1>
            </div>
            <ul class="nav-linksz">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">
                        <i class="fas fa-home"></i> 
                        <span> Trang Chủ </span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="products.html" class="nav-link">
                        <i class="fas fa-box"></i>
                        <span> Sản Phẩm </span>
                    </a>
                </li>
                <li class="nav-item" id="cart-icon">
                    <a href="cart.html" class="nav-link">
                        <i class="fas fa-shopping-cart"></i>
                        <span> Giỏ Hàng </span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="about.html" class="nav-link">
                        <i class="fas fa-info-circle"></i> 
                        <span> Về Chúng Tôi </span>
                    </a>
                </li>
                <li>
                    <a href="#cart" class="cart-icon">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count">0</span>
                    </a>
                </li>
            </ul>
            <div class="burger-container">   
                <div class="burger">
                    <div class="line1"></div>
                    <div class="line2"></div>
                    <div class="line3"></div>
                </div>
            </div>
        </nav>
    </div>

    <main>
        <section>
            <h1>Giỏ Hàng</h1>
            <div id="cart-container"></div>
                <!-- Các sản phẩm sẽ được hiển thị ở đây thông qua JavaScript -->
            <div id="cart-container">
                <div id="cart-container">
                    <ul id="cart-items"></ul>
                    <p id="cart-total">Tổng tiền: 0đ</p>
                    <button id="checkoutBtn">Thanh toán với MoMo</button>
                </div>
            </div>
                
    </main>

    <style>
        /* Cài đặt cho toàn bộ trang */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: Arial, sans-serif;
    padding: 40px;
    background-color: #f5f5f5;
  }

  main {
    padding-top: 80px; /* Đẩy nội dung xuống dưới thanh navbar */
  }

/* Navigation */
.container {
    position: fixed;  /* Giữ navbar ở vị trí cố định */
    top: 0;           /* Đặt navbar ở vị trí trên cùng */
    left: 0;          /* Đảm bảo navbar căn lề trái */
    width: 100%;      /* Navbar chiếm toàn bộ chiều rộng màn hình */
    z-index: 1000;    /* Đảm bảo navbar luôn hiển thị trên các phần tử khác */                     /* Chiều rộng của container = 100% chiều rộng màn hình */
}

.navbar {
    display: flex;
    justify-content: space-between; /* Căn giữa navbar */
    align-items: center;
    padding: 10px 20px;
    background-color: #333;
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 1000;
}

.logo h1 {
    color: #fff;
    font-size: 24px;
    font-weight: bold;
     /* margin-right: auto; Đảm bảo logo luôn ở bên trái */
}

.nav-linksz {
    display: flex;
    justify-content: center; /* Căn giữa các mục trong navbar */
    gap: 30px;
    list-style: none;
}

.nav-item {
    margin: 0 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.nav-link {
    text-decoration: none;
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: center;
    /*font-size: 1rem;
    padding: 5px;
    transition: background-color 0.3s ease, color 0.3s ease;*/
}

.nav-link i {
    font-size: 24px; /* Kích thước icon */
    margin-bottom: 5px; /* Khoảng cách giữa icon và văn bản */
}

.nav-link span {
    display: block;
}
    

/* Hiệu ứng hover */
.nav-link:hover {
    color: #27ae60; /* Màu xanh lá khi hover */
    background-color: #222; /* Nền đen khi hover */
    border-radius: 5px;
}

.cart-container {
    max-width: 1000px;
    margin: 30px auto;
    background: white;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 0 10px #ccc;
  }
  
  .cart-container h2 {
    margin-bottom: 20px;
  }
  
  .cart-item {
    display: flex;
    align-items: center;
    border-bottom: 1px solid #eee;
    padding: 15px 0;
  }
  
  .cart-item input[type="checkbox"] {
    margin-right: 15px;
  }
  
  .cart-item img {
    width: 80px;
    height: 80px;
    object-fit: cover;
    margin-right: 15px;
    border-radius: 6px;
  }
  
  .item-info {
    flex: 1;
  }
  
  .item-title {
    font-size: 16px;
    font-weight: bold;
    margin-bottom: 8px;
  }
  
  .item-price {
    color: #ee4d2d;
    font-weight: bold;
  }
  
  .quantity {
    display: flex;
    align-items: center;
    margin-top: 8px;
  }
  
  .quantity button {
    width: 30px;
    height: 30px;
    border: 1px solid #ccc;
    background: white;
    font-size: 16px;
    cursor: pointer;
  }
  
  .quantity input {
    width: 40px;
    text-align: center;
    border: none;
    background: #f9f9f9;
  }
  
  .remove-btn {
    color: red;
    margin-left: 15px;
    cursor: pointer;
  }
  
  .cart-footer {
    display: flex;
    justify-content: space-between;
    padding-top: 20px;
  }
  
  .total {
    font-size: 18px;
    font-weight: bold;
  }
  
  .checkout-btn {
    background: #ee4d2d;
    color: white;
    padding: 10px 20px;
    border: none;
    font-weight: bold;
    border-radius: 4px;
    cursor: pointer;
  }
  
  .checkout-btn:hover {
    background: #d7421b;
  }
  
  /* Responsive */
  @media screen and (max-width: 600px) {
    .cart-item {
      flex-direction: column;
      align-items: flex-start;
    }
  
    .cart-item img {
      margin-bottom: 10px;
    }
  
    .cart-footer {
      flex-direction: column;
      gap: 15px;
      align-items: flex-start;
    }
  }

    </style>

    <script>
        window.addEventListener('scroll', function() {
            const items = document.querySelectorAll('.about-item');
            const windowHeight = window.innerHeight;
            
            items.forEach(item => {
                const position = item.getBoundingClientRect().top;
                if (position < windowHeight - 100) {
                    item.classList.add('show');
                }
            });
        });

        const burger = document.querySelector('.burger-container');
    const navLinks = document.querySelector('.nav-linksz');

    burger.addEventListener('click', () => {
        navLinks.classList.toggle('active');
    });

        document.addEventListener("DOMContentLoaded", function () {
            // Lấy tất cả các phần tử burger (menu) và navbar trên trang
            const burgers = document.querySelectorAll(".burger");  // Lấy tất cả các burger
            const navbars = document.querySelectorAll(".navbar");  // Lấy tất cả các navbar
            const productsPage= document.getElementById('products-page');
            const cartPage= document.getElementById('cart-page');
            const aboutPage= document.getElementById('about-page');
        
            // Duyệt qua tất cả các burger và navbar
            burgers.forEach((burger, index) => {
                burger.addEventListener("click", function () {
                    // Lấy navbar và nav-links tương ứng với burger đang được click
                    const navbar = navbars[index];
                    const navLinks = navbar.querySelector(".nav-links");
                    const navLinkss = navbar.querySelector(".nav-linkss");
                    const navLinksz = navbar.querySelector(".nav-linksz");
                    const navLinkszz = navbar.querySelector(".nav-linkszz");
        
                    // Thêm hoặc bỏ class 'active' cho navbar và nav-links
                    navbar.classList.toggle("active");
                    if (navLinks) {
                        navLinks.classList.toggle("active");
                    }
                    navbar.classLists.toggle("active");
                    if (navLinkss) {
                        navLinkss.classLists.toggle("active");
                    }
                    
                    if (navLinksz) {
                        navLinksz.classListz.toggle("active");
                    }
                    if (navLinkszz) {
                        navLinkszz.classListzz.toggle("active");
                    }
        
                    // Thêm hoặc bỏ class 'toggle' cho burger để thay đổi hình dạng
                    burger.classList.toggle("toggle");
                    burger.classLists.toggle("toggle");
                    burger.classListz.toggle("toggle");
                    burger.classListzz.toggle("toggle");
                });
            });
        });

        // Lấy giỏ hàng từ localStorage
let cart = JSON.parse(localStorage.getItem("cart")) || [];
const container = document.getElementById("cart-container");

    // Render giỏ hàng từ localStorage
    function renderCart() {
        const list = document.getElementById("cart-items");
        const total = document.getElementById("cart-total");
        list.innerHTML = "";

        if (cart.length === 0) {
            container.innerHTML = "<p>Giỏ hàng trống.</p>";
            total.textContent = "0 đ";
            return;
    }

    let sum = 0;
    cart.forEach(item => {
        const li = document.createElement("li");
        li.innerHTML = `
            <img src="${item.thumbnail}" alt="${item.title}" width="100">
            <div>
                <h3>${item.title}</h3>
                <p>${item.price.toLocaleString()}₫</p>
                <button onclick="changeQuantity(${item.id}, 'decrease')">-</button>
                ${item.quantity}
                <button onclick="changeQuantity(${item.id}, 'increase')">+</button>
                <p>- Tổng: ${item.price * item.quantity} đ</p>
                <button class="remove-btn" data-id="${item.id}">❌ Xoá</button>
            </div>
        `;
        list.appendChild(li);
        sum += item.price * item.quantity;
    });

    total.textContent = sum.toLocaleString() + " đ";

    // Gắn sự kiện xóa cho các nút
    document.querySelectorAll(".remove-btn").forEach(btn => {
        btn.addEventListener("click", () => {
            const id = parseInt(btn.getAttribute("data-id"));
            removeFromCart(id);
        });
    });
}

// Hàm thay đổi số lượng sản phẩm
    function changeQuantity(id, action) {
    const item = cart.find(product => product.id === id);
        if (!item) return;
        
        if (action === "increase") {
            item.quantity += 1;
        } else if (action === "decrease" && item.quantity > 1) {
            item.quantity -= 1;
    }
    
    // Lưu giỏ hàng vào localStorage sau khi thay đổi
    localStorage.setItem("cart", JSON.stringify(cart));
    renderCart();
    }

    // Hàm thêm sản phẩm vào giỏ
    function addToCart(product) {
        const exist = cart.find(item => item.id === product.id);
        if (exist) {
            exist.quantity += 1;
        } else {
            cart.push({ ...product, quantity: 1 });
        }

        // Lưu giỏ hàng vào localStorage sau khi thay đổi
        localStorage.setItem("cart", JSON.stringify(cart));
        renderCart();
    }

    // Hàm xoá sản phẩm khỏi giỏ hàng
    function removeFromCart(id) {
        cart = cart.filter(item => item.id !== id);
        // Lưu giỏ hàng vào localStorage sau khi thay đổi
        localStorage.setItem("cart", JSON.stringify(cart));
        renderCart();
    }

    // Hàm tính tổng tiền
    function getTotal() {
        return cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
    }

    // Hiển thị giỏ hàng khi tải trang
    window.onload = () => {
        renderCart(); // Gọi hàm renderCart khi trang tải
    };

    </script>


    <script src="script.js"></script> <!-- Liên kết đến JavaScript -->
</body>
</html>
